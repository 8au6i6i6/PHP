<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Document</title>
	<link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css">
	<script src="js/jquery-2.1.0.min.js"></script>
	<script src="js/jquery.mobile-1.4.5.min.js"></script>

	<script>
		$(function(){
			$("#reg_ok").bind("click", reg);
			$("#del_ok").bind("click", del);
			$("#change_ok").bind("click", change);
			$("#login_ok").bind("click", login);
		}); // end function()

		function reg(){
			$.ajax({
				type: "POST",
				url: "http://linux20.tw/v1/user/create.php",
				data: {username: $("#username").val().trim(), password: $("#password").val().trim()},
				success: show,
				error:function(){
					alert("error");
				}
			}); 
		}	

		function del(){
			$.ajax({
				type: "POST",
				url: "http://linux20.tw/v1/user/delete.php",
				data: {username: $("#username_del").val().trim() },
				success: show,
				error:function(){
					alert("error");
				}
			}); 
		}

		function change(){
			$.ajax({
				type: "POST",
				url: "http://linux20.tw/v1/user/pwd/change.php",
				data: {username: $("#username_change").val().trim(), password: $("#password_change").val().trim() },
				success: show,
				error:function(){
					alert("error");
				}
			}); 
		}

		function login(){
			$.ajax({
				type: "POST",
				url: "http://linux20.tw/v1/user/login.php",
				data: {username: $("#username_login").val().trim(), password: $("#password_login").val().trim() },
				success: show,
				error:function(){
					alert("error");
				}
			}); 
		}

		function show(data){
			if (data != null)
			{
				alert(data);
				location.href = "20191217-main.html";
			}
		}
	</script>
</head>
<body>
	<!-- home -->
	<div data-role="page" id="home">
		<div data-role="header" data-theme="b" data-position="fixed">
			<h1>首頁</h1>
		</div>
		<div data-role="main" class="ui-content" >	
			<div data-role="controlgroup" data-type="horizontal">
				<a href="#create" data-role="button" data-theme="b">新增會員</a>			
				<a href="#delete" data-role="button" data-theme="b">刪除會員</a>
				<a href="#change" data-role="button" data-theme="b">修改密碼</a>
				<a href="#login" data-role="button" data-theme="b">驗證帳號密碼</a>
			</div>
		</div>
		<div data-role="footer" data-theme="b" data-position="fixed">
			<h1>頁尾</h1>
		</div>
	</div>

	<!-- create -->
	<div data-role="page" id="create">
		<div data-role="header" data-position="fixed" data-theme="b">
			<h1>會員註冊</h1>
		</div>
		<div role="main" class="ui-content">
			<div data-role="fieldcontain">
				<label for="username">帳號</label>
				<input type="text" name="username" id="username">
			</div>
			<div data-role="fieldcontain">
				<label for="password">密碼</label>
				<input type="password" name="password" id="password">
			</div>
			<div class="ui-grid-a">
				<div class="ui-block-a">
					<a href="#" data-role="button" data-theme="b" data-rel="back">取消</a>		
				</div>
				<div class="ui-block-b">
					<a href="#" data-role="button" data-theme="b" id="reg_ok">註冊</a>		
				</div>
			</div>
		</div>
	</div>

	<!-- delete -->
	<div data-role="page" id="delete">
		<div data-role="header" data-position="fixed" data-theme="b">
			<h1>刪除會員</h1>
		</div>
		<div role="main" class="ui-content">
			<div data-role="fieldcontain">
				<label for="username_del">帳號</label>
				<input type="text" name="username_del" id="username_del">
			</div>
			<div class="ui-grid-a">
				<div class="ui-block-a">
					<a href="#" data-role="button" data-theme="b" data-rel="back">取消</a>		
				</div>
				<div class="ui-block-b">
					<a href="#" data-role="button" data-theme="b" id="del_ok">刪除</a>		
				</div>
			</div>
		</div>
	</div>

	<!-- change -->
	<div data-role="page" id="change">
		<div data-role="header" data-position="fixed" data-theme="b">
			<h1>修改密碼</h1>
		</div>
		<div role="main" class="ui-content">
			<div data-role="fieldcontain">
				<label for="username_change">帳號</label>
				<input type="text" name="username_change" id="username_change">
			</div>
			<div data-role="fieldcontain">
				<label for="password_change">密碼</label>
				<input type="password" name="password_change" id="password_change">
			</div>
			<div class="ui-grid-a">
				<div class="ui-block-a">
					<a href="#" data-role="button" data-theme="b" data-rel="back">取消</a>		
				</div>
				<div class="ui-block-b">
					<a href="#" data-role="button" data-theme="b" id="change_ok">變更密碼</a>		
				</div>
			</div>
		</div>
	</div>

	<!-- login -->
	<div data-role="page" id="login">
		<div data-role="header" data-position="fixed" data-theme="b">
			<h1>驗證帳號密碼</h1>
		</div>
		<div role="main" class="ui-content">
			<div data-role="fieldcontain">
				<label for="username_login">帳號</label>
				<input type="text" name="username_login" id="username_login">
			</div>
			<div data-role="fieldcontain">
				<label for="password_login">密碼</label>
				<input type="password" name="password_login" id="password_login">
			</div>
			<div class="ui-grid-a">
				<div class="ui-block-a">
					<a href="#" data-role="button" data-theme="b" data-rel="back">取消</a>		
				</div>
				<div class="ui-block-b">
					<a href="#" data-role="button" data-theme="b" id="login_ok">登入</a>		
				</div>
			</div>
		</div>
	</div>

</body>
</html>